<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project Workflow - What happens outside of the project folder?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./Figures/copepod_icon_dark.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Project Workflow</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Intro</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./01_git_and_R.html"> 
<span class="menu-text">Git, GitHub, R Projects, and RStudio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./02_coding.html"> 
<span class="menu-text">Coding in R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./03_project_dev.html" aria-current="page"> 
<span class="menu-text">Project Development</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ZoopEcoEvo/ZoopEcoEvo.github.io"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03e_other_workflow.html">Working Outside the Project Folder</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_project_dev.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Development</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03a_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03b_pull_requests.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pull Requests</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03c_reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project Reports</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03d_manuscripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Manuscript Prep</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03e_other_workflow.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Working Outside the Project Folder</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#work-flow-priorities" id="toc-work-flow-priorities" class="nav-link active" data-scroll-target="#work-flow-priorities">Work flow priorities</a>
  <ul class="collapse">
  <li><a href="#final-words" id="toc-final-words" class="nav-link" data-scroll-target="#final-words">Final Words</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ZoopEcoEvo/ZoopEcoEvo.github.io/edit/main/03e_other_workflow.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ZoopEcoEvo/ZoopEcoEvo.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">What happens outside of the project folder?</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>So far, we’ve focused on how the Project Folder is set up to help you go from data to final product. There’s a lot of work, however, that has to happen outside of this set-up. While things like funded grant applications, relevant protocols and data management plans, naming conventions, etc. can all be kept together with a project in the Background directory, there are other aspects (literature, lab notebooks, etc.) that can be relevant across multiple projects. In reality, you will need to develop a network of interconnected workflows to see a project from start to finish.</p>
<p>As an example, I’ve outlined my workflow in schematic form here, and describe some of the key tenets below. Before going any further, know that these workflows are highly individual. What I describe is something that I’ve found works for me; you might benefit from something similar, or something completely different. Explore the (many) options out there!</p>
<p><img src="Figures/other_workflow_elements.jpg" class="img-fluid"></p>
<section id="work-flow-priorities" class="level1">
<h1>Work flow priorities</h1>
<p>A major part of research is reading literature. For better or worse, each day sees a flood of new papers published across any number of scientific journals. This is where the day-to-day workflow starts for me. You need some system for capturing, sorting, organizing, and annotating these papers. Ideally, your system will also help you recall information (or at least be able to find it again when you go looking for it) and make connections between key points gleaned from different papers. Each of those steps (capturing, sorting, organizing, annotating, and synthesizing) are the focus of myriad programs, tools, approaches, and philosophies. Before you dive into everything that’s out there, spend some time thinking about how you work, and what elements would actually help you get stuff done. Do you want something that is simple and streamlined? Or do you prefer all the bells and whistles so you can customize things to your liking? How much time per day do you intend spending on each of these steps? Be realistic here - there’s no point in setting up a system that requires a little time each day to work if you know you’d prefer to spend more time at less frequent intervals, or vice versa.</p>
<p>My personal workflow emphasizes five things:</p>
<p><strong>Quick capture</strong> - I need to be able to quickly flag a paper, data set, protocol, news article, etc. when I see it. The key here is being able to grab anything and everything I see that might be relevant to past, present, or future work. I rely on a combination of Google Scholar and Web of Science alerts for general topics of interest, authors, and citations to certain key papers; social media; and more targeted, project-specific literature searches to collect (potentially) relevant papers. In addition to Google Scholar and Web of Science, <a href="https://openalex.org/">OpenAlex</a> is a great resource. <a href="https://www.researchrabbit.ai">ResearchRabbit</a> and other tools like it might also be worth exploring. My general impression of these “AI powered” tools, however, is that they are by no means a replacement for traditional search strategies. By all means, though, change my mind.</p>
<p>When I come across something interesting, I send it to a single ‘inbox’ in my Obsidian vault (using <a href="https://obsidian.md/clipper">this great web clipper tool</a>). Remember my priority here is speed of capture, so I don’t worry too much about judging utility, relevance, or value on the spot. Once or twice a week, I’ll sit down and sort through the inbox. Not everything ends up being relevant or useful, but I don’t mind having to screen extra stuff in order to be more confident that I’m not missing important papers or resources.</p>
<p><strong>A robust centralized organization</strong> - After collecting all these resources, I need a robust system to organize everything. I’ll eventually have to find them when they’re needed. This is easy when something relates to a project I’m currently working on, but can be tricky when something is relevant (or might become relevant) for future projects. I also prefer that these systems be ‘centralized’ (i.e.&nbsp;- one collection of resources accessed for multiple projects, rather than an individual, independent collection for each project).</p>
<p>When sorting through the inbox, non-paper resources (data sets, tutorials, pedagogical resources, etc.) are screened out and organized by topic in a series of notes in Obsidian. I also screen out preprints to keep track of work that look promising but hasn’t been published yet. This leaves published papers, which are screened for relevance, utility, interest, etc.</p>
<p>Papers I want to store for later use are sent to <a href="https://www.zotero.org">Zotero</a>, again using a helpful web clipper tool. I prefer Zotero over some of the other major reference managers because it’s open source and developed by a non-profit organization. Once a paper is in my Zotero library, I’ll tag it with relevant topics and in some cases add a note to the entry with more specifics about how I envision using this reference. Zotero lets you create ‘Saved Searches’, which are essentially folders that update when new, relevant entries are added - I use these to maintain collections on general topics of interest. This strategy seems to hit the right balance for me between project-level organization of papers (being able to find it based on the topics tagged) and keeping things centralized (I only ever have one copy of a paper in my library).</p>
<p>As an added bonus, you can link your Zotero library to RStudio, an use their nice in-text citation interface to import references and bibliographic information to .rmd files!</p>
<p><strong>Easy annotation</strong> - I know that I am really vulnerable to the <a href="https://zettelkasten.de/posts/collectors-fallacy/">collector’s fallacy</a> (the notion that gathering information is the same as learning the information). I also know that I’m less likely to read something in a timely manner with more complex workflows. That being said, I want the effort that goes into reading a paper to “pay off”; specifically, I want be able to easily find the notes that I took when I return to a paper, rather than having to re-read the entire thing over again. I lose handwritten notes too easily, and I get too distracted by one long word document / excel file of notes. My solution is to keep notes and annotations stored alongside the PDFs of the papers. Zotero (version 6 and onward) includes an excellent PDF reader that I use to read and annotate papers. Most importantly for me, notes and annotations from Zotero can be quickly pulled into Obsidian, creating a single note for each paper. I add a brief summary of key aspects of the paper like the aims, methods, results, synthesis of the paper, along with a ‘how am I going to use this’ section - importantly, these summary sections are re-written in <em>my own words</em>, not quoted verbatim. This is a useful self-check of my understanding of the paper, and helps me to remember some of the key aspects of the paper (or at least, helps me remember that I read something about Topic XYZ, even if I can’t remember the exact information). While this is a pretty involved step, setting up my paper notes like this keeps the bibliographic information, reading notes, and my own thoughts on the paper all together in the same place. Using Obsidian also means that it’s easy to to link the paper notes to multiple projects.</p>
<p><strong>Making connections across resources</strong> - Some of the most interesting ideas stem from connections between two seemingly unrelated topics. Regardless of the method used to take notes, you will need to keep the notes you take organized. Much like how RStudio and the project folder helps you work in R, Obsidian is a text editing environment that helps you work with markdown text files. One of the distinguishing features of Obsidian, though, is the use of internal links. These links between notes allow you to quickly tie together anything in your collection - reading notes, lab notebook entries, project summaries, grant plans, etc. etc. This not only makes it easier to see patterns and make connections within a topic, but it let’s you start to make connections across project/topic boundaries.</p>
<p>As discussed elsewhere, I also use Obsidian as a digital lab notebook (and require you to do the same). The ability to use templates makes things like setting up experiments, recording the health of cultures, and keeping track of daily activities a little easier. And because it uses markdown files, you don’t have to worry about not being able to access data across systems.</p>
<p><strong>Integration</strong> - There’s no single perfect app that does everything I want to aid my workflow. I also don’t want to be reliant on a bunch of different apps and software (I know I am too easily distracted by the grandeur of these complex workflows to get any actual work done with them). Over time I’ve settled on the workflow described here, which relies on just a couple, relatively streamlined programs (Obsidian, Zotero, and RStudio) that integrate nicely with each other, and feed well into the Project Folder setup that’s been the focus of the rest of this site. Additionally, while relying on centralized systems, there’s no barriers to the flow of information and insight from outside to inside the project folders. For me, this is the most important aspect; to be able to go from a broad, centralized network of resources to highly specific application in individual projects.</p>
<p>With this said, however, remember that while you work in this lab, you’re essentially required to use all three of these programs already</p>
<section id="final-words" class="level2">
<h2 class="anchored" data-anchor-id="final-words">Final Words</h2>
<p>Remember, the system I’ve outlined here is what works for me (or at least what worked for me as a early-stage processor in 2025). Everyone works in different ways, and this might change for you over time. I’ve laid things out here to provide a single example. You can take whichever components (if any) work for you and then explore your other options to fill in the gaps in your workflow. Whether you are piecing together an initial workflow or refining what you’re already working with, my main piece of advice is to focus on <em>how</em> you work, not <em>what</em> you’re working with. Be honest with yourself about what you actually need in order to stay engaged with the literature, to develop your own ideas, and to eventually compile and share these ideas with others. The temptation to add whatever new and shiny software is popular at the time into your workflow will always be present. And sometimes this new software might be useful for you. But in order to keep making progress on your work (and it is the work that really matters, not the workflow), you’ll be best served by thinking carefully about your own personal workflow priorities. This will probably be an iterative process. You might not land on something right away. But as you learn more (and learn more about how you learn best), you should be able to build a workflow that helps you feel excited about the material you’re working with!</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ZoopEcoEvo/ZoopEcoEvo.github.io/edit/main/03e_other_workflow.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ZoopEcoEvo/ZoopEcoEvo.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>