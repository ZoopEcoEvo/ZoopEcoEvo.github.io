<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project Workflow - Project Development</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Project Workflow</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Intro</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./git_and_R.html">
 <span class="menu-text">Git, GitHub, R Projects, and RStudio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./coding.html">
 <span class="menu-text">Coding in R</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./project_dev.html" aria-current="page">
 <span class="menu-text">Project Development</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Project Development</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project_dev.html" class="sidebar-item-text sidebar-link active">Project Development</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-development" id="toc-project-development" class="nav-link active" data-scroll-target="#project-development">Project Development</a></li>
  <li><a href="#pull-requests" id="toc-pull-requests" class="nav-link" data-scroll-target="#pull-requests">Pull Requests</a></li>
  <li><a href="#publishing-projects" id="toc-publishing-projects" class="nav-link" data-scroll-target="#publishing-projects">Publishing Projects</a></li>
  <li><a href="#key-settings" id="toc-key-settings" class="nav-link" data-scroll-target="#key-settings">Key Settings</a></li>
  <li><a href="#naming-files" id="toc-naming-files" class="nav-link" data-scroll-target="#naming-files">Naming Files</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Project Development</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="project-development" class="level2">
<h2 class="anchored" data-anchor-id="project-development">Project Development</h2>
<p>After the planning stages, work on the project will generally fall into three main categories (there’s can be lots of variation between projects though): data analysis, project reports, and manuscript prep. These three classes of project development will pull from different components of the project folder, as illustrated below.</p>
<p><img src="Figures/project_phase_schematic.jpg" class="img-fluid"></p>
<p>Despite the differences, though, each class will depend on similar skill sets and development follows a similar workflow.</p>
<ul>
<li>First and foremost, using R to analyse, visualize, and then summarize data is not easy. There are many (many, many, many) resources out there, however, that can help you learn R, brush up on what you already know, and build new skills. I see developing your R coding skills as an important part of your training, and feel that it’s worth it to devlote time and energy devoted towards this. As discussed below, your coding style is mostly up to you. You should know, however, that I primarily work with the “tidyverse”, and recommend that you do too. There’s an excellent resource for learning to code in R using this approach <a href="https://r4ds.had.co.nz">here</a>.</li>
<li>When you’re ready to start working on the project, open RStudio <strong>via the .Rproj file</strong> (just double click this file, like you normally would to open a file). This will open an RStudio session with the correct settings and (most importantly) the correct working directory. Using the .Rproj file along with the project folder setup makes it easier to transfer your project across machines without breaking file paths.</li>
<li>Remember, the main branch of each project is read-only. In order to make changes, you’ll first have to make a new branch (purple connected-square icon in the top right corner of the Git pane of RStudio). Give this branch an informative name about the goal you’re working towards - exp_design, data_carpentry, linear_model, etc. This will help me keep track of the project status). You should see this branch appear on the GitHub repo as well.</li>
<li>Begin populating the project with code and text. As you work on the development of the project, you can take snapshots of the code progress using “commits”, and store these snapshots on the virtual copy of your branch by “pushing” to GitHub. A good rule of thumb is to commit whenever you finish something you’d be annoyed to lose. Make sure your commit messages are concise but useful (see <a href="https://cbea.ms/git-commit/">here</a> for a nice approach).</li>
<li>It’s a good idea to “pull” the up-to-date code from the GitHub repo at the <em>beginning of every session</em> to keep the local and virtual copies of your working branch in sync. This is especially important if you are working from multiple machines.</li>
<li>If you’re the only one working on your code, you can focus on just your working branch. If other people are working on this project as well, however, you’ll have to <strong>make sure you keep your branch up-to-date</strong> with what’s happening on the <em>main branch</em> as well. If you don’t, you risk ending up with major conflicts when you go to merge your branch back into main.
<ul>
<li>You can pull from the main branch into your working branch by entering this into the <strong>terminal</strong> (not the console): <strong>git pull origin main</strong></li>
</ul></li>
</ul>
</section>
<section id="pull-requests" class="level2">
<h2 class="anchored" data-anchor-id="pull-requests">Pull Requests</h2>
<ul>
<li>When you’re ready for feedback on the code, you will initiate a pull request (PR). This starts the Code Review process. I will automatically be notified, but mention any other lab member in the PR that you’d like to look over your code (just be mindful about how much time you’re asking from other lab members).</li>
<li>Before you initiate the PR, make sure your local branch is up to date by doing one last pull-push cycle from RStudio. This will make sure that:
<ol type="1">
<li>your local code reflects the most up-to-date version on the repo to catch any last merge conflicts, and</li>
<li>that your branch on the virtual repo reflects all the changes you’ve made.</li>
</ol></li>
<li>To initiate the PR, click “New Pull Request” <strong>on GitHub</strong>. This should be visible when viewing the active branches tab. Doing this manually on GitHub rather than through RStudio is the easiest way to start the PR.</li>
<li>During code review, we will typically start by looking over the output (either the HTML or the github doc/markdown in the Reports directory) since this should include both code and graphical outputs. Be sure to specify if there are other additional files you’re looking for feedback on. Depending on time available and complexity of the code, we may also review the scripts involved (data processing, .Rmd, etc.). We’ll make comments and suggestions for changes, or accept the PR and merge the development branch into the main branch. Once merged, this now stands as the new official version, and you can start a new branch to work on the next project development goal.</li>
</ul>
</section>
<section id="publishing-projects" class="level2">
<h2 class="anchored" data-anchor-id="publishing-projects">Publishing Projects</h2>
<ul>
<li>Project folders are also set up to help integrate figures, statistical results, etc. into the manuscript writing process. By keeping all relevant files in the same project folder, and using the controller script to weave different components together, it should be easier to write (and then update) a manuscript draft with the correct results. For example, smart usage of inline code will save you from having to manually update statistical results in tables and text throughout the draft when changes are made (saving time and helping to avoid confusion down the road!).</li>
<li>There should be a directory entitled “Manuscript” within each project folder, which includes a .Rmd file (the manuscript file), along with .sty and .bib files (containing formatting details and the bibliography, respectively). By default, these will produce a PDF formated in the Arxiv style and a word document when the .Rmd file is knit. This is different from the report .Rmd file (which by default outputs an HTML and special markdown file) - the main difference here being that code chunks do not appear in the PDF or word documents, while they do in the HTML and markdown outputs.<br>
</li>
<li>The .Rmd file name should be updated to reflect the manuscript. Typically we will format the file name as it would be referred to in an in-text citation (ex - LeadAuthor_et_al_2022, Author1_and_Author2_2022, etc.).</li>
<li>Keep the use of code within the manuscript .Rmd file to a minimum. All major data analysis and figure generation should be performed in other scripts within the project folder. When placing figures, for example, it will be substantially faster to use the image files output by the Report.Rmd file than to create the figures from code. Given the number of times you’ll likely knit a manuscript during the writing and revision process, this saved time adds up. It is therefore in your best interest to ensure that the report.Rmd file (or whichever script is outputting the image files) reflects publication-ready figures whenever possible.</li>
<li>The use of a reference manager is strongly recommended. RStudio has a built in citation function, but the ability to store and organize references outside of the project is also useful. <a href="https://www.zotero.org">Zotero</a> is an open source reference manager that integrates nicely with RStudio and markdown documents. This is the program I use/recommend. There’s a useful write up of how citations work in .Rmd files <a href="https://posit.co/blog/rstudio-1-4-preview-citations/">here</a>. Note, you’ll need to be using RStudio version 1.4 or later to access these features.</li>
<li>The workflow for writing the manuscript draft will be similar to that used during the Project Development phase, at least while putting together the initial versions. Changes are made on a working branch, which are reviewed via Pull Request. If comments are required from co-authors who do not use GitHub, it is the responsibility of the lead author to ensure they are sent an up-to-date word document (or Google Doc version) and that their comments are properly integrated into the GitHub repo.</li>
<li>Once the manuscript is drafted, the repo can be archived with Zenodo in order to establish a Version of Record with an associated DOI. See <a href="https://docs.github.com/en/repositories/archiving-a-github-repository/referencing-and-citing-content">here</a> for more details.</li>
<li>Once the new repo DOI is included in a Data Availability statement in the manuscript, it’s ready for submission. The .Rmd file is knit and the resulting PDF and word documents are prepared for submission to a preprint server and journal, respectively.</li>
</ul>
</section>
<section id="key-settings" class="level1">
<h1>Key Settings</h1>
<p>As the goal of an R Project Folder is to help, there are several default settings in R that you will want to change. These setting changes are one of the components organized by the .Rproj file.</p>
<ol type="1">
<li>Never save .Rdata when closing your session. Open up your Preferences &gt; General, and make sure “Restore .Rdata into workspace at startup” is <strong>not</strong> checked. This will ensure that variables and other objects from your Environment are not carried over from one session to the next. Also ensure that “Save workspace to .Rdata on exit” is set to “Never”.</li>
<li>In Preferences &gt; R Markdown, make sure that “Evaluate chunks in directory” is set to “Project”. This will make it easier to navigate through the component folders when setting file paths.</li>
<li>In the drop-down menu next to the “Knit” button, ensure that “Knit directory” is set to “Project”.</li>
</ol>
</section>
<section id="naming-files" class="level1">
<h1>Naming Files</h1>
<p>See <a href="https://github.com/jennybc/how-to-name-files">this</a> nice talk on common sense conventions to follow when naming files.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>